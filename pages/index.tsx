import Layout from '@/components/common/Layout';
import ExchangeRateBox from '@/components/ExchangeRate';
import ModeController from '@/components/ModeController';
import CommonCenter from '@/components/common/Center';
import CommonHeader from '@/components/common/Header';
import DetailStocksSection from '@/components/PortFolioSections/DetailStocksSection';
import SimpleDividentScheduleSection from '@/components/PortFolioSections/SimpleDividentScheduleSection';
import ChartSection from '@/components/PortFolioSections/ChartSection';
import TotalStatisticsSection from '@/components/PortFolioSections/TotalStatisticsSection';
import { useMyPortFolio } from '@/hook/useMyPortFolio';
import NotifyMessageSection from '@/components/PortFolioSections/NotifyMessageSection';
import { CircularProgress } from '@mui/material';

import Head from 'next/head';

const MainPage = () => {
  const { data } = useMyPortFolio();

  if (!data) {
    return (
      <Layout>
        <CommonCenter>
          <CircularProgress />
        </CommonCenter>
      </Layout>
    );
  }

  return (
    <>
      {
        // TODO: Should Change title, meta, link in Head Component
      }
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Layout>
        <CommonHeader>
          <ModeController />
        </CommonHeader>
        <ExchangeRateBox />
        <ChartSection />
        <TotalStatisticsSection />
        <SimpleDividentScheduleSection />
        <DetailStocksSection />
        <NotifyMessageSection />
      </Layout>
    </>
  );
};

export default MainPage;
